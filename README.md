# MAX UNIVER

Цифровая платформа для студентов, преподавателей и деканата университета.

## Описание

MAX UNIVER - это веб-приложение, которое объединяет в себе несколько важных функций для управления учебным процессом и жизнью в университете:

1. **Умное расписание** - просмотр расписания пар для всех пользователей, редактирование доступно только деканату
2. **Управление общежитием** - оформление пропусков, заявок на ремонт и оплаты проживания
3. **Цифровой деканат** - оформление справок и заявлений (академ отпуск, перевод, отпуск) с отслеживанием статуса
4. **Информационный центр** - новости и уведомления с системой модерации (деканат одобряет новости)
5. **Ассистент преподавателя** - управление группами студентов, отметка посещаемости

## Роли пользователей

- **Студент (student)** - может просматривать расписание, создавать заявки в общежитие, оформлять документы, предлагать новости
- **Преподаватель (teacher)** - все возможности студента + управление группами и посещаемостью
- **Деканат (deanery)** - полный доступ ко всем функциям, включая редактирование расписания, модерацию новостей, обработку заявок и документов

## Технологии

- **Backend**: FastAPI
- **Frontend**: Bootstrap 5, Jinja2 Templates
- **База данных**: SQLite (по умолчанию) или PostgreSQL
- **Аутентификация**: JWT токены

## Установка и запуск

### Локальный запуск

1. Клонируйте репозиторий или скачайте проект

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Запустите приложение:
```bash
uvicorn main:app --reload
```

4. Откройте браузер и перейдите по адресу: `http://localhost:8000`

### Запуск через Docker

#### Вариант 1: Docker Compose (рекомендуется)

1. Запустите контейнер:
```bash
docker-compose up -d
```

2. Откройте браузер и перейдите по адресу: `http://localhost:8000`

Для остановки:
```bash
docker-compose down
```

#### Вариант 2: Docker напрямую

1. Соберите Docker образ:
```bash
docker build -t max-univer .
```

2. Запустите контейнер:
```bash
docker run -d -p 8000:8000 --name max-univer max-univer
```

3. Откройте браузер и перейдите по адресу: `http://localhost:8000`

Для остановки:
```bash
docker stop max-univer
docker rm max-univer
```

### Запуск через командную строку (Windows)

```cmd
# Установка зависимостей
pip install -r requirements.txt

# Запуск приложения
python -m uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

### Запуск через командную строку (Linux/Mac)

```bash
# Установка зависимостей
pip3 install -r requirements.txt

# Запуск приложения
python3 -m uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

## Структура проекта

```
MAX_UNIVER2/
├── main.py              # Основной файл приложения FastAPI
├── models.py            # Модели базы данных (SQLAlchemy)
├── database.py          # Настройка подключения к БД
├── auth.py              # Логика аутентификации и авторизации
├── requirements.txt     # Зависимости Python
├── Dockerfile          # Конфигурация Docker образа
├── README.md           # Документация
├── templates/          # HTML шаблоны
│   ├── base.html
│   ├── index.html
│   ├── login.html
│   ├── register.html
│   ├── dashboard.html
│   ├── schedule.html
│   ├── dormitory.html
│   ├── documents.html
│   ├── news.html
│   └── ...
├── static/             # Статические файлы (CSS, JS, изображения)
└── uploads/            # Загруженные файлы (фото новостей)
```

## Использование

1. **Регистрация**: Создайте аккаунт, выбрав одну из ролей (студент, преподаватель, деканат)

2. **Вход**: Войдите в систему используя имя пользователя и пароль

3. **Расписание**: Просматривайте расписание пар. Деканат может добавлять и удалять пары

4. **Общежитие**: Создавайте заявки на пропуски, ремонт или оплату. Деканат обрабатывает заявки

5. **Документы**: Оформляйте справки и заявления. Отслеживайте их статус

6. **Новости**: Предлагайте новости (с фото). Деканат модерирует и одобряет их

7. **Преподаватель**: Создавайте группы, добавляйте студентов, отмечайте посещаемость

## Настройка базы данных

По умолчанию используется SQLite. База данных создается автоматически при первом запуске.

Для использования PostgreSQL:

1. Установите драйвер: `pip install psycopg2-binary`
2. Установите переменную окружения:
```bash
export DATABASE_URL="postgresql://user:password@localhost/dbname"
```

## Переменные окружения

- `DATABASE_URL` - URL подключения к базе данных (по умолчанию: `sqlite:///./max_univer.db`)
- `SECRET_KEY` - Секретный ключ для JWT токенов (по умолчанию: `your-secret-key-change-in-production`)

**Важно**: В production обязательно измените `SECRET_KEY` на безопасный случайный ключ!

## Особенности

- Адаптивный дизайн для работы на компьютере и мобильных устройствах
- Простая и понятная архитектура
- Безопасная аутентификация с использованием JWT
- Система ролей для разграничения доступа
- Модерация контента (новости)

